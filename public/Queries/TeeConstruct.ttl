PREFIX ex: <https://example.com/ex#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX fso: <http://w3id.org/fso#> 
PREFIX fpo: <http://w3id.org/fpo#>
PREFIX fo: <http://www.w3.org/1999/XSL/Format#>
PREFIX ec: <http://eulergui.sourceforge.net/contacts.owl.n3#>
construct{
  ?component fso:hasPort ?port ; a ?componentType ; ex:RevitID ?revitID .
  ?port fpo:flowType ?fluidType;
    fpo:temperature ?temperature ;
    fpo:velocity ?velocity;
    fpo:flowRate ?flowRate;
    fso:hasSystem ?systemType ;
    fpo:pressureDrop ?pressureDrop ;
    ex:hasFlowDirectionVectorZ ?flowDirectionVectorZ;
    fpo:flowDirection ?flowDirection;
  	fpo:width ?width ;
    fpo:height ?height ;
  	fpo:outerDiameter ?outerDiameter ;
  	fpo:crossSectionalArea ?crossSectionalArea .
} 
WHERE {
  ?system fso:hasFlow ?fluid .
  ?system a ?systemType .
  ?fluid fpo:flowType/fpo:value ?fluidType .
  ?fluid fpo:temperature/fpo:value ?temperature .
  ?system fso:hasComponent ?component .
  ?component a ?componentType .
  ?component ex:RevitID ?revitID
  VALUES ?componentType {fso:Tee} ?component a ?componentType .
  ?component fso:hasPort ?port . 
  ?port	fpo:flowDirection/fpo:value ?flowDirection.
  ?port fpo:flowRate/fpo:value ?flowRate .
  ?port fpo:velocity/fpo:value ?velocity .
  optional {?port ex:hasFlowDirectionVectorZ/fpo:value ?flowDirectionVectorZ.}
  optional {?port fpo:outerDiameter/fpo:value ?outerDiameter .}
  optional {?port fpo:width/fpo:value ?width . ?port fpo:height/fpo:value ?height  .}
  ?port fpo:crossSectionalArea/fpo:value ?crossSectionalArea 
}
